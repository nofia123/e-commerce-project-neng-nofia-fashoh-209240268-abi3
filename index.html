<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Senada - Earthtone Elegan dan Interaktif</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&amp;display=swap" rel="stylesheet" />
<style>
  :root {
    /* Earthtone color palette */
    --color-bg: #fff8f0; /* warm cream */
    --color-text-primary: #4b3b2b; /* rich chocolate brown */
    --color-text-secondary: #7e6650; /* soft taupe */
    --color-primary: #8a6e45; /* mellow olive */
    --color-primary-hover: #71593a; /* darker olive */
    --color-border: #d2c1a2; /* soft light brown */
    --color-yellow: #f8db6d; /* soft yellow accent */
    --color-yellow-dark: #d9b84a;
    --border-radius: 0.75rem;
    --shadow-light: 0 1px 3px rgba(75, 59, 43, 0.1);
    --shadow-medium: 0 4px 12px rgba(75, 59, 43, 0.15);
    --max-width: 1200px;
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  /* Reset */
  *, *::before, *::after { box-sizing: border-box; }
  body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background-color: var(--color-bg);
    color: var(--color-text-primary);
    font-size: 18px;
    line-height: 1.6;
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  a {
    color: inherit;
    text-decoration: none;
    cursor: pointer;
    transition: var(--transition);
  }
  a:focus-visible {
    outline: 3px solid var(--color-primary);
    outline-offset: 3px;
  }
  button {
    font-family: 'Poppins', sans-serif;
    cursor: pointer;
    border: none;
    background: none;
    transition: var(--transition);
  }
  .container {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 0 1.5rem;
  }
  /* Header */
  header {
    position: sticky;
    top: 0;
    background: var(--color-bg);
    border-bottom: 1px solid var(--color-border);
    z-index: 1000;
    box-shadow: var(--shadow-light);
  }
  .nav-wrapper {
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 72px;
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 0 1.5rem;
  }
  .logo {
    font-weight: 800;
    font-size: 2.5rem;
    color: var(--color-primary);
    user-select: none;
    letter-spacing: -0.02em;
    transition: color 0.25s ease;
  }
  .logo:hover, .logo:focus-visible {
    color: var(--color-primary-hover);
    outline: none;
  }
  nav ul {
    list-style: none;
    display: flex;
    gap: 3rem;
    margin: 0;
    padding: 0;
    align-items: center;
  }
  nav li {
    font-weight: 600;
    font-size: 1.125rem;
    color: var(--color-text-secondary);
    user-select: none;
  }
  nav li a,
  nav li button.cart-btn {
    padding: 0.5rem 0;
    color: var(--color-text-secondary);
    background: none;
    font-weight: 600;
    font-size: 1.125rem;
    cursor: pointer;
    border-radius: var(--border-radius);
    transition: color 0.25s ease, background-color 0.25s ease;
    user-select: none;
  }
  nav li a:hover,
  nav li button.cart-btn:hover,
  nav li a:focus-visible,
  nav li button.cart-btn:focus-visible,
  nav li.active a {
    color: var(--color-primary);
    background: #fcf5e1;
    outline: none;
  }
  /* Hero Section */
  .hero {
    position: relative;
    background: linear-gradient(135deg, #fceabb 0%, #f8b500 100%);
    color: var(--color-primary);
    padding: 6rem 1.5rem 7rem;
    text-align: center;
    max-width: 720px;
    margin: 0 auto 7rem;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-medium);
    user-select: none;
  }
  .hero h1 {
    font-weight: 900;
    font-size: 4.25rem;
    margin: 0 0 1rem;
    line-height: 1.05;
    text-shadow: 0 2px 6px rgba(138, 110, 69, 0.3);
  }
  .hero p {
    font-weight: 600;
    font-size: 1.375rem;
    line-height: 1.4;
    max-width: 600px;
    margin: 0 auto 3rem;
    color: var(--color-text-secondary);
  }
  .hero .btn {
    background-color: var(--color-primary);
    color: var(--color-bg);
    padding: 1rem 3rem;
    font-weight: 700;
    font-size: 1.375rem;
    border-radius: var(--border-radius);
    box-shadow: 0 10px 30px rgba(138, 110, 69, 0.6);
    transition: background-color 0.3s ease, transform 0.3s ease;
    user-select: none;
  }
  .hero .btn:hover,
  .hero .btn:focus-visible {
    background-color: var(--color-primary-hover);
    transform: scale(1.07);
    outline: none;
  }
  /* Main content */
  main {
    max-width: var(--max-width);
    margin: 0 auto 8rem;
    padding: 0 1.5rem;
  }
  section {
    margin-bottom: 6rem;
  }
  section h2 {
    font-size: 3rem;
    font-weight: 700;
    color: var(--color-primary);
    margin-bottom: 2.75rem;
    user-select: none;
  }
  /* Products grid and cards */
  .products {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
    gap: 3rem;
  }
  .product {
    background: var(--color-bg);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-medium);
    padding: 1.75rem 2rem 3rem;
    display: flex;
    flex-direction: column;
    position: relative;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    user-select: none;
    cursor: pointer;
  }
  .product:hover, .product:focus-within {
    transform: translateY(-8px);
    box-shadow: 0 16px 28px rgba(138, 110, 69, 0.15);
    outline: none;
  }
  .product img {
    width: 100%;
    height: 190px;
    object-fit: cover;
    border-radius: var(--border-radius);
    margin-bottom: 1.6rem;
    pointer-events: none;
    user-select: none;
  }
  .product h3 {
    font-weight: 700;
    font-size: 1.75rem;
    margin-top: 0;
    margin-bottom: 1rem;
    color: var(--color-primary);
  }
  .product p.desc {
    font-size: 1.125rem;
    color: var(--color-text-secondary);
    flex-grow: 1;
    margin-bottom: 2rem;
  }
  .product .price {
    font-weight: 700;
    font-size: 1.25rem;
    color: var(--color-primary);
    margin-bottom: 1.6rem;
  }
  /* Yellow cart button at bottom right of product card */
  .product .add-to-cart {
    position: absolute;
    bottom: 16px;
    right: 16px;
    background-color: var(--color-yellow);
    color: var(--color-text-primary);
    border: none;
    padding: 0.75rem 1rem;
    font-size: 1rem;
    font-weight: 700;
    border-radius: 0.5rem;
    box-shadow: 0 6px 12px rgba(250,204,21,0.35);
    cursor: pointer;
    transition: background-color 0.25s ease, transform 0.2s ease;
    user-select: none;
  }
  .product .add-to-cart:hover,
  .product .add-to-cart:focus-visible {
    background-color: var(--color-yellow-dark);
    transform: scale(1.05);
    outline: none;
  }
  /* Slide viewer overlay */
  .slide-viewer {
    position: fixed;
    top:0; left:0; width:100vw; height:100vh;
    background: rgba(75, 56, 36, 0.9);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 3000;
    user-select: none;
  }
  .slide-viewer.active {
    display: flex;
  }
  .slide-content {
    background: var(--color-bg);
    max-width: 600px;
    max-height: 90vh;
    border-radius: var(--border-radius);
    padding: 2rem;
    overflow-y: auto;
    box-shadow: 0 12px 36px rgba(75, 56, 36, 0.65);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    position: relative;
  }
  .slide-content img {
    width: 100%;
    height: auto;
    max-height: 350px;
    object-fit: cover;
    border-radius: var(--border-radius);
    margin-bottom: 1.75rem;
  }
  .slide-content h3 {
    font-size: 2.5rem;
    font-weight: 800;
    margin-bottom: 1rem;
    color: var(--color-primary);
  }
  .slide-content p {
    font-size: 1.2rem;
    color: var(--color-text-secondary);
    margin-bottom: 2rem;
    line-height: 1.5;
  }
  .slide-close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 2.5rem;
    font-weight: 800;
    color: var(--color-text-secondary);
    cursor: pointer;
    transition: color 0.25s ease;
  }
  .slide-close:hover,
  .slide-close:focus-visible {
    color: var(--color-primary);
    outline: none;
  }
  /* Category & About */
  #kategori p, #tentang-kami p {
    font-size: 1.125rem;
    color: var(--color-text-secondary);
    max-width: 700px;
    margin: 0 auto;
    user-select: none;
    font-weight: 600;
  }
  /* Footer */
  footer {
    background-color: #f7f3e9;
    text-align: center;
    padding: 3rem 1.5rem;
    color: var(--color-text-secondary);
    font-size: 1rem;
    user-select: none;
    border-top: 1px solid var(--color-border);
  }
  /* Modal Styles */
  .modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(75, 56, 36, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
    z-index: 2000;
  }
  .modal-overlay.active {
    opacity: 1;
    pointer-events: auto;
  }
  .modal {
    background: var(--color-bg);
    max-width: 480px;
    width: 90%;
    border-radius: var(--border-radius);
    padding: 2.5rem 2.5rem 3rem;
    box-shadow: 0 12px 36px rgba(75, 56, 36, 0.5);
    position: relative;
    display: flex;
    flex-direction: column;
    max-height: 80vh;
    overflow-y: auto;
    user-select: auto;
  }
  .modal-header {
    font-size: 1.875rem;
    font-weight: 800;
    color: var(--color-text-primary);
    margin-bottom: 2rem;
    user-select: none;
  }
  .modal-close {
    position: absolute;
    right: 1.5rem;
    top: 1.25rem;
    background: none;
    border: none;
    font-size: 2rem;
    font-weight: 700;
    color: var(--color-text-secondary);
    cursor: pointer;
    transition: color 0.25s ease;
    user-select: none;
  }
  .modal-close:hover,
  .modal-close:focus-visible {
    color: var(--color-primary);
    outline: none;
  }
  /* Cart Contents */
  .cart-items {
    list-style: none;
    padding: 0;
    margin: 0 0 1.75rem 0;
    max-height: 260px;
    overflow-y: auto;
    flex-grow: 1;
  }
  .cart-item {
    display: flex;
    justify-content: space-between;
    padding: 0.85rem 0;
    border-bottom: 1px solid var(--color-border);
    font-size: 1.125rem;
    color: var(--color-text-primary);
  }
  .cart-item:last-child {
    border-bottom: none;
  }
  .cart-item span.qty {
    font-weight: 800;
    margin-right: 1rem;
    color: var(--color-primary);
  }
  .cart-total {
    font-weight: 800;
    font-size: 1.5rem;
    text-align: right;
    margin-top: 1.5rem;
    color: var(--color-primary);
    user-select: none;
  }
  .empty-cart {
    font-style: italic;
    font-size: 1.125rem;
    text-align: center;
    color: var(--color-text-secondary);
    user-select: none;
  }
  .btn-pay {
    margin-top: 2rem;
    width: 100%;
    padding: 1.1rem 0;
    font-size: 1.25rem;
    font-weight: 800;
    border-radius: var(--border-radius);
    background-color: var(--color-primary);
    color: var(--color-bg);
    border: none;
    cursor: pointer;
    box-shadow: 0 8px 20px rgba(75, 56, 36, 0.5);
    transition: background-color 0.3s ease, transform 0.3s ease;
    user-select: none;
  }
  .btn-pay:hover,
  .btn-pay:focus-visible {
    background-color: var(--color-primary-hover);
    outline: none;
    transform: scale(1.06);
  }
  /* Contact form */
  form {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
  }
  label {
    font-weight: 700;
    font-size: 1.125rem;
    color: var(--color-text-primary);
    user-select: none;
  }
  input, textarea {
    padding: 1rem 1.25rem;
    font-size: 1.125rem;
    border: 1.5px solid var(--color-border);
    border-radius: var(--border-radius);
    transition: border-color 0.3s ease;
    font-family: 'Poppins', sans-serif;
    resize: vertical;
    color: var(--color-text-primary);
  }
  input:focus, textarea:focus {
    border-color: var(--color-primary);
    outline: none;
    box-shadow: 0 0 0 3px rgba(75, 56, 36, 0.3);
  }
  textarea {
    min-height: 120px;
  }
  .btn-submit {
    padding: 1rem 3rem;
    max-width: 160px;
    font-size: 1.25rem;
    font-weight: 800;
    border-radius: var(--border-radius);
    background-color: var(--color-primary);
    color: var(--color-bg);
    border: none;
    cursor: pointer;
    box-shadow: 0 8px 20px rgba(75, 56, 36, 0.5);
    transition: background-color 0.3s ease, transform 0.3s ease;
    user-select: none;
  }
  .btn-submit:hover,
  .btn-submit:focus-visible {
    background-color: var(--color-primary-hover);
    outline: none;
    transform: scale(1.05);
  }
  /* Responsive tweaks */
  @media (max-width: 768px) {
    nav ul {
      gap: 1.5rem;
    }
    .hero h1 {
      font-size: 2.75rem;
    }
    .product img {
      height: 160px;
    }
  }
</style>
</head>
<body>

<header>
  <nav class="nav-wrapper" aria-label="Primary navigation">
    <div class="logo" tabindex="0">Senada</div>
    <ul role="menubar">
      <li role="none"><a role="menuitem" href="#hero" class="nav-link active" tabindex="0">Beranda</a></li>
      <li role="none"><a role="menuitem" href="#produk-terbaru" class="nav-link" tabindex="-1">Produk</a></li>
      <li role="none"><button role="menuitem" class="cart-btn" id="open-cart" tabindex="-1" aria-haspopup="dialog" aria-controls="cart-modal" aria-expanded="false">ðŸ›’ Keranjang (<span id="cart-count">0</span>)</button></li>
      <li role="none"><button role="menuitem" class="cart-btn" id="open-contact" tabindex="-1" aria-haspopup="dialog" aria-controls="contact-modal" aria-expanded="false">ðŸ“ž Kontak</button></li>
    </ul>
  </nav>
</header>

<section id="hero" class="hero" tabindex="-1">
  <h1>Temukan Gaya Terbaik Anda</h1>
  <p>Jelajahi koleksi fashion terbaru dan terbaik dari kami, dibuat khusus untuk Anda.</p>
  <button class="btn" id="shop-now-btn" aria-label="Browse latest products">Mulai Belanja</button>
</section>

<main>
  <section id="produk-terbaru" tabindex="-1">
    <h2>Produk Terbaru</h2>
    <div class="products" role="list">
      <article class="product" role="listitem" tabindex="0" aria-label="Rok, harga Rp 100.000" data-name="Rok" data-price="100000" data-desc="Rok elegan dan nyaman untuk berbagai acara." data-img="/Users/user/Desktop/WhatsApp Image 2025-06-07 at 21.06.05 (1).jpeg">
        <img src="/Users/user/Desktop/WhatsApp Image 2025-06-07 at 21.06.05 (1).jpeg" alt="Gambar Rok" loading="lazy" />
        <h3>Rok</h3>
        <p class="desc">Deskripsi singkat tentang rok.</p>
        <p class="price">Rp100.000</p>
        <button class="add-to-cart" aria-label="Tambah Rok ke keranjang">ðŸ›’ Tambah ke Keranjang</button>
      </article>
      <article class="product" role="listitem" tabindex="0" aria-label="Kemeja, harga Rp 150.000" data-name="Kemeja" data-price="150000" data-desc="Kemeja kasual nyaman dengan bahan berkualitas." data-img="/Users/user/Desktop/WhatsApp Image 2025-06-07 at 21.06.04.jpeg">
        <img src="/Users/user/Desktop/WhatsApp Image 2025-06-07 at 21.06.04.jpeg" alt="Gambar Kemeja" loading="lazy" />
        <h3>Kemeja</h3>
        <p class="desc">Deskripsi singkat tentang kemeja.</p>
        <p class="price">Rp150.000</p>
        <button class="add-to-cart" aria-label="Tambah Kemeja ke keranjang">ðŸ›’ Tambah ke Keranjang</button>
      </article>
      <article class="product" role="listitem" tabindex="0" aria-label="Pashmina, harga Rp 50.000" data-name="Pashmina" data-price="50000" data-desc="Pashmina lembut yang menambah gaya dan kenyamanan." data-img="/Users/user/Desktop/WhatsApp Image 2025-06-07 at 21.06.04 (1).jpeg">
        <img src="/Users/user/Desktop/WhatsApp Image 2025-06-07 at 21.06.04 (1).jpeg" alt="Gambar Pashmina" loading="lazy" />
        <h3>Pashmina</h3>
        <p class="desc">Deskripsi singkat tentang pashmina.</p>
        <p class="price">Rp50.000</p>
        <button class="add-to-cart" aria-label="Tambah Pashmina ke keranjang">ðŸ›’ Tambah ke Keranjang</button>
      </article>
      <article class="product" role="listitem" tabindex="0" aria-label="Loose Pants, harga Rp 320.000" data-name="Loose Pants" data-price="320000" data-desc="Atasan loose fit yang stylish dipadukan dengan celana panjang nyaman." data-img="/Users/user/Desktop/WhatsApp Image 2025-06-07 at 21.06.05.jpeg">
        <img src="/Users/user/Desktop/WhatsApp Image 2025-06-07 at 21.06.05.jpeg" alt="Gambar Loose Pants" loading="lazy" />
        <h3>Loose Pants</h3>
        <p class="desc">Atasan loose fit yang stylish dipadukan dengan celana panjang nyaman.</p>
        <p class="price">Rp320.000</p>
        <button class="add-to-cart" aria-label="Tambah Loose Pants ke keranjang">ðŸ›’ Tambah ke Keranjang</button>
      </article>
    </div>
  </section>
  <section id="kategori" tabindex="-1">
    <h2>Kategori</h2>
    <p>Berbagai kategori produk tersedia untuk Anda.</p>
  </section>
  <section id="tentang-kami" tabindex="-1">
    <h2>Tentang Kami</h2>
    <p>Kami menyediakan produk berkualitas tinggi dengan harga terjangkau.</p>
  </section>
</main>

<footer>
  <p>&copy; 2023 Senada. Semua Hak Dilindungi.</p>
</footer>

<!-- Modal: Cart -->
<div class="modal-overlay" id="cart-modal" role="dialog" aria-modal="true" aria-labelledby="cart-title" aria-hidden="true">
  <div class="modal" tabindex="-1">
    <button class="modal-close" aria-label="Tutup Keranjang" id="close-cart">&times;</button>
    <h3 class="modal-header" id="cart-title">Keranjang Belanja</h3>
    <ul class="cart-items" id="cart-items"></ul>
    <p class="cart-total" id="cart-total">Total: Rp0</p>
    <button class="btn-pay" id="pay-btn" aria-label="Bayar">Bayar</button>
  </div>
</div>

<!-- Modal: Contact -->
<div class="modal-overlay" id="contact-modal" role="dialog" aria-modal="true" aria-labelledby="contact-title" aria-hidden="true">
  <div class="modal" tabindex="-1">
    <button class="modal-close" aria-label="Tutup Kontak" id="close-contact">&times;</button>
    <h3 class="modal-header" id="contact-title">Hubungi Kami</h3>
    <form id="contact-form" novalidate>
      <label for="name">Nama:</label>
      <input type="text" id="name" name="name" placeholder="Nama Anda" required minlength="2" />
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" placeholder="email@domain.com" required />
      <label for="message">Pesan:</label>
      <textarea id="message" name="message" placeholder="Tulis pesan Anda" required minlength="10"></textarea>
      <button type="submit" class="btn-submit">Kirim</button>
    </form>
  </div>
</div>

<!-- Slide Viewer -->
<div class="slide-viewer" id="slide-viewer" aria-hidden="true" aria-label="Detail produk">
  <div class="slide-content" role="document" tabindex="0">
    <button class="slide-close" aria-label="Tutup tampilan produk" id="slide-close">&times;</button>
    <img src="" alt="" id="slide-img" />
    <h3 id="slide-title"></h3>
    <p id="slide-desc"></p>
  </div>
</div>

<script>
  // Navigation highlight
  const navLinks = document.querySelectorAll('nav a.nav-link');
  const sections = [...navLinks].map(link => document.querySelector(link.getAttribute('href')));
  function setActiveLink() {
    const scrollPosition = window.scrollY + 100;
    let activeIndex = 0;
    sections.forEach((section, i) => {
      if(section.offsetTop <= scrollPosition) activeIndex = i;
    });
    navLinks.forEach((link, i) => {
      if(i === activeIndex) {
        link.classList.add('active');
        link.setAttribute('tabindex', '0');
      } else {
        link.classList.remove('active');
        link.setAttribute('tabindex', '-1');
      }
    });
  }
  window.addEventListener('scroll', setActiveLink);
  setActiveLink();

  // Modal open/close logic
  const cartBtn = document.getElementById('open-cart');
  const cartModal = document.getElementById('cart-modal');
  const closeCartBtn = document.getElementById('close-cart');
  const contactBtn = document.getElementById('open-contact');
  const contactModal = document.getElementById('contact-modal');
  const closeContactBtn = document.getElementById('close-contact');

  function openModal(modal, triggerBtn) {
    modal.classList.add('active');
    modal.setAttribute('aria-hidden', 'false');
    triggerBtn.setAttribute('aria-expanded', 'true');
    modal.querySelector('.modal').focus();
    document.body.style.overflow = 'hidden';
  }
  function closeModal(modal, triggerBtn) {
    modal.classList.remove('active');
    modal.setAttribute('aria-hidden', 'true');
    triggerBtn.setAttribute('aria-expanded', 'false');
    triggerBtn.focus();
    document.body.style.overflow = '';
  }

  cartBtn.addEventListener('click', () => openModal(cartModal, cartBtn));
  closeCartBtn.addEventListener('click', () => closeModal(cartModal, cartBtn));
  contactBtn.addEventListener('click', () => openModal(contactModal, contactBtn));
  closeContactBtn.addEventListener('click', () => closeModal(contactModal, contactBtn));
  cartModal.addEventListener('click', (e) => { if(e.target === cartModal) closeModal(cartModal, cartBtn); });
  contactModal.addEventListener('click', (e) => { if(e.target === contactModal) closeModal(contactModal, contactBtn); });

  // Contact form
  const contactForm = document.getElementById('contact-form');
  contactForm.addEventListener('submit', (e) => {
    e.preventDefault();
    if(!contactForm.checkValidity()) {
      contactForm.reportValidity();
      return;
    }
    alert('Terima kasih telah menghubungi kami, kami akan segera merespon.');
    contactForm.reset();
    closeModal(contactModal, contactBtn);
  });

  // Shop Now scroll
  const shopNowBtn = document.getElementById('shop-now-btn');
  shopNowBtn.addEventListener('click', () => {
    const productSection = document.getElementById('produk-terbaru');
    productSection.scrollIntoView({ behavior: 'smooth' });
  });

  // Cart functionality
  const addToCartButtons = document.querySelectorAll('.product > .add-to-cart');
  const cartItemsContainer = document.getElementById('cart-items');
  const cartTotalElem = document.getElementById('cart-total');
  const cartCountElem = document.getElementById('cart-count');
  const payBtn = document.getElementById('pay-btn');
  let cart = {};

  function updateCartUI() {
    cartItemsContainer.innerHTML = '';
    let totalPrice = 0;
    let totalCount = 0;
    if(Object.keys(cart).length === 0) {
      cartItemsContainer.innerHTML = '<p class="empty-cart">Keranjang kosong.</p>';
    } else {
      for (const [name, item] of Object.entries(cart)) {
        const li = document.createElement('li');
        li.classList.add('cart-item');
        const qtySpan = document.createElement('span');
        qtySpan.classList.add('qty');
        qtySpan.textContent = item.quantity + 'x';
        const itemNameSpan = document.createElement('span');
        itemNameSpan.textContent = name;
        const priceSpan = document.createElement('span');
        priceSpan.textContent = 'Rp' + (item.price * item.quantity).toLocaleString('id-ID');
        li.appendChild(qtySpan);
        li.appendChild(itemNameSpan);
        li.appendChild(priceSpan);
        cartItemsContainer.appendChild(li);
        totalPrice += item.price * item.quantity;
        totalCount += item.quantity;
      }
    }
    cartTotalElem.textContent = 'Total: Rp' + totalPrice.toLocaleString('id-ID');
    cartCountElem.textContent = totalCount;
    cartBtn.setAttribute('aria-label', `Keranjang belanja (${totalCount} produk, total Rp${totalPrice.toLocaleString('id-ID')})`);
  }

  addToCartButtons.forEach(btn => {
    btn.addEventListener('click', (event) => {
      event.stopPropagation();
      const productEl = btn.closest('.product');
      const name = productEl.dataset.name;
      const price = parseInt(productEl.dataset.price, 10);
      if(cart[name]){
        cart[name].quantity += 1;
      } else {
        cart[name] = { price: price, quantity: 1 };
      }
      updateCartUI();
    });
  });

  payBtn.addEventListener('click', () => {
    if(Object.keys(cart).length === 0) {
      alert('Keranjang Anda kosong. Silakan tambahkan produk terlebih dahulu.');
      return;
    }
    alert('Terima kasih atas pembelian Anda! Total: ' + cartTotalElem.textContent.replace('Total: ', ''));
    cart = {};
    updateCartUI();
    closeModal(cartModal, cartBtn);
  });

  updateCartUI();

  // Slide viewer logic
  const slideViewer = document.getElementById('slide-viewer');
  const slideImg = document.getElementById('slide-img');
  const slideTitle = document.getElementById('slide-title');
  const slideDesc = document.getElementById('slide-desc');
  const slideClose = document.getElementById('slide-close');
  const products = document.querySelectorAll('.product');

  products.forEach(product => {
    product.addEventListener('click', () => {
      const imgSrc = product.dataset.img;
      const name = product.dataset.name;
      const desc = product.dataset.desc;
      slideImg.src = imgSrc;
      slideImg.alt = 'Gambar produk ' + name;
      slideTitle.textContent = name;
      slideDesc.textContent = desc;
      slideViewer.classList.add('active');
      slideViewer.setAttribute('aria-hidden', 'false');
      slideViewer.querySelector('.slide-content').focus();
    });
  });
  slideClose.addEventListener('click', () => {
    slideViewer.classList.remove('active');
    slideViewer.setAttribute('aria-hidden', 'true');
  });
  slideViewer.addEventListener('click', e => {
    if(e.target === slideViewer) {
      slideViewer.classList.remove('active');
      slideViewer.setAttribute('aria-hidden', 'true');
    }
  });
</script>

</body>
</html>

